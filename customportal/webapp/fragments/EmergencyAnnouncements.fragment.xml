<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
>
    <Dialog
        id="idEmergencyAnnouncementDialog"
        showHeader="false"
        contentWidth="48rem"
        contentHeight="23rem"
        resizable="false"
        draggable="false"
        afterClose="onAfterCloseEmergencyDialog"
    >
        <content>
            <VBox class="emergencyDialogContainer">
                <HBox justifyContent="End">
                    <Button
                        icon="sap-icon://decline"
                        type="Transparent"
                        press="onDismissAllEmergencyAnnouncements"
                    />
                </HBox>
                <List
                    items="{emergencyModel>/announcements}"
                    showSeparators="Inner"
                >
                    <CustomListItem>
                        <VBox class="sapUiSmallMarginBottom">

                            <!-- Header row -->
                            <HBox
                                justifyContent="SpaceBetween"
                                alignItems="Start"
                                class="emergencyHeader"
                            >
                                <Text
                                    text="{emergencyModel>title}"
                                    class="emergencyTitle"
                                    wrapping="true"
                                />
                            </HBox>

                            <!-- Time -->
                            <Text
                                text="{emergencyModel>timeAgo}"
                                class="emergencyTime"
                            />

                            <!-- Description -->
                            <FormattedText
                                htmlText="{emergencyModel>description}"
                                class="emergencyDescription"
                            />

                        </VBox>
                    </CustomListItem>
                </List>
            </VBox>
        </content>
    </Dialog>
</core:FragmentDefinition>
